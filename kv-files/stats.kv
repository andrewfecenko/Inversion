#:kivy 1.9.1
#:import C kivy.utils.get_color_from_hex
<CateEntry@BoxLayout>:
    id: category_entry
    orientation:'horizontal'
    valign: 'top'
    size_hint: 1, 0.1

    BoxLayout:
        orientation: 'horizontal'
        padding: [2, 0, 2, 0]

        canvas:
            Color:
                rgba: 0.3, 0.3, 0.3, 0.1
            Rectangle:
                pos: self.pos
                size: self.size

        Label:
            id: search_text
            size_hint: 0.7, 1
            padding: [5, 5]
            font_size: '20sp'
            color: C('#000000')
            text: category_entry.name + ": " + category_entry.times + " times"


<Stats>:
    id: stat
    orientation: 'vertical'
    size_hint: 1, 1

    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size

    Label:
        id: opportunity_cost
        size_hint: 1, 0.1
        pos_hint_y: 0
        font_size: '30sp'
        halign: 'center'
        text: 'replace'
        color: C('#53F0BC')


    BoxLayout:
        orientation: 'vertical'
        size_hint: 0.95, 1
        pos_hint: {'center_x': .5, 'center_y': .5}

        BoxLayout:
            id: cost_graph
            orientation: 'horizontal'
            size_hint: 0.95, 0.1
            pos_hint: {'center_x': .5, 'center_y': .5}

            canvas:
                Color:
                    rgba: 0.5, 0.5, 0.5, 0.1
                Rectangle:
                    pos: self.pos
                    size: self.size

#            Graph:
#                id: graph1
#                size_hint: 0.7, 1
#                pos_hint_y: 0
#                xLabel: 'Date'
#                yLabel: 'Cost of mistakes ($)'
#                x_ticks_minor: 1
#                y_ticks_minor: 1
#                x_grid_label: True
#                y_grid_label: True
#                padding: 5
#                x_grid: True
#                y_grid: True
#                xmin: 0
#                xmax: 10
#                ymin: 0
#                ymax: 100

            BoxLayout:
                id: graph1
                size_hint: 0.7, 1

            BoxLayout:
                id: options
                orientation: 'vertical'
                size_hint: 0.3, 0.7
                pos_hint: {'center_x': .5, 'center_y': .5}

                BoxLayout:
                    padding: [30, 10, 30, 10]
        #            [padding_left, padding_top, padding_right, padding_bottom]
                    Button:
                        text: "Monthly"
                        size_hint: 1, 0.5
                        size_hint_y: None
                        background_color: C('#7DB1FF')
                        on_release: stat.get_monthly_cost()

                BoxLayout:
                    padding: [30, 10, 30, 10]
                    Button:
                        text: "Weekly"
                        size_hint: 1, 0.5
                        size_hint_y: None
                        background_color: C('#7DB1FF')
                        on_release: stat.get_weekly_cost()

                BoxLayout:
                    padding: [30, 10, 30, 10]
                    Button:
                        text: "Daily"
                        size_hint: 1, 0.5
                        size_hint_y: None
                        background_color: C('#7DB1FF')
                        on_release: stat.get_daily_cost()

        BoxLayout:
            size_hint: 1, 0.005

        BoxLayout:
            id: category_graph
            orientation: 'horizontal'
            size_hint: 0.95, 0.1
            pos_hint: {'center_x': .5, 'center_y': .5}

            canvas:
                Color:
                    rgba: 0.5, 0.5, 0.5, 0.1
                Rectangle:
                    pos: self.pos
                    size: self.size

            GridLayout:
                id: graph2
                cols: 1
                size_hint: 0.7, 1


            BoxLayout:
                id: options
                orientation: 'vertical'
                size_hint: 0.3, 0.7
                pos_hint: {'center_x': .5, 'center_y': .5}

                BoxLayout:
                    padding: [30, 10, 30, 10]
        #            [padding_left, padding_top, padding_right, padding_bottom]
                    Button:
                        text: "Monthly"
                        size_hint: 1, 0.5
                        size_hint_y: None
                        background_color: C('#7DB1FF')
                        on_release: stat.get_om_cates()

                BoxLayout:
                    padding: [30, 10, 30, 10]
                    Button:
                        text: "Weekly"
                        size_hint: 1, 0.5
                        size_hint_y: None
                        background_color: C('#7DB1FF')
                        on_release: stat.get_cm_cates()

        BoxLayout:
            size_hint: 1, 0.005

        BoxLayout:
            orientation: 'horizontal'
            size_hint: 0.95, 0.1
            pos_hint: {'center_x': .5, 'center_y': .5}

            canvas:
                Color:
                    rgba: 0.5, 0.5, 0.5, 0.1
                Rectangle:
                    pos: self.pos
                    size: self.size

            BoxLayout:
                id: graph3
                size_hint: 0.7, 1

            BoxLayout:
                id: mistakes_graph
                orientation: 'vertical'
                size_hint: 0.3, 0.7
                pos_hint: {'center_x': .5, 'center_y': .5}

                BoxLayout:
                    padding: [30, 10, 30, 10]
        #            [padding_left, padding_top, padding_right, padding_bottom]
                    Button:
                        text: "Monthly"
                        size_hint: 1, 0.5
                        size_hint_y: None
                        background_color: C('#7DB1FF')
                        on_release: stat.get_monthly_mistakes()

                BoxLayout:
                    padding: [30, 10, 30, 10]
                    Button:
                        text: "Weekly"
                        size_hint: 1, 0.5
                        size_hint_y: None
                        background_color: C('#7DB1FF')
                        on_release: stat.get_weekly_mistakes()

                BoxLayout:
                    padding: [30, 10, 30, 10]
                    Button:
                        text: "Daily"
                        size_hint: 1, 0.5
                        size_hint_y: None
                        background_color: C('#7DB1FF')
                        on_release: stat.get_daily_mistakes()


    BoxLayout:
        size_hint: 1, 0.02

    GridLayout:
        id: menu
        cols: 4
        rows: 1
        size_hint: 1, None
        size: root.width, root.height * 0.05

        BoxLayout:
            padding: [2, 0, 0, 2]
#            [padding_left, padding_top, padding_right, padding_bottom]
            Button:
                id: Main
                text: "Main"
                background_color: C('#818181')
                on_release: app.load_window('home')
        BoxLayout:
            padding: [2, 0, 2, 2]
            Button:
                id: List
                text: "Archive"
                background_color: C('#818181')
                on_release: app.load_window('archive')
        BoxLayout:
            padding: [0, 0, 2, 2]
            Button:
                id: Stat
                text: "Stats"
                background_color: C('#818181')
                on_release: app.load_window('stats')
