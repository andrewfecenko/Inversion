#:kivy 1.9.1
#:import C kivy.utils.get_color_from_hex

<Entry@BoxLayout>:
    id: entry
	task_text: self.ids.task_text.text
	orientation:'vertical'
	size_hint:(None, None)
	size: (1200, 200)
	spacing: 20
    padding: 20

#    canvas:
#        Color:
#            rgba: 0.5, 0.5, 0.5, 1
#        Rectangle:
#            pos: self.pos
#            size: self.size

    BoxLayout:
        orientation: 'horizontal'
        size_hint: 1, 0.7
        height: 20

        Label:
            size_hint: 0.9, 0.1
            font_size: '20sp'
            text: entry.name


        Button:
            background_color: C('#3498db')
            size_hint: 0.1, 0.1
            halign: 'center'
            text: 'â€”'
            font_size: '20sp'
            on_release: entry.remove()

    TextInput:
    	id: task_text
    	size_hint: 1, 0.3
        multiline: True
        font_size: '20sp'
        padding: [5, 5]




<AddEntry>:
	id: add_entry
    orientation: 'vertical'
    padding: [0,0,0,20]
    task_grid: task_grid

    BoxLayout:
	    orientation: 'horizontal'
    	spacing: 10
    	size_hint: 1, 0.1
    	padding: 20

        Button:
	    	background_color: C('#3498db')
	    	size_hint: 0.4, 0.9
	    	halign: 'center'
	        text: 'Back'
	        font_size: '20sp'
	        on_release: app.load_window("journal_menu")

        ## add entry main label
        Label:
            size_hint: 1, 1
            halign: 'center'
            text: 'Tasks For Today'
            font_size: '20sp'

        Button:
            background_color: C('#3498db')
            size_hint: 0.4, 0.9
            halign: 'center'
            text: 'Submit'
            font_size: '20sp'
            on_release: add_entry.submit_tasks()



    ScrollView:
        size_hint: 1, 0.8
        pos_hint: {'x': 0, 'top': 1}


        GridLayout:
            id: task_grid
            size_hint_y: None
            cols: 1
            row_default_height: '20dp'
            row_force_default: True
            spacing: 0, 0
            padding: 0, 0

            Entry:
                name: 'task 1'

            Entry:
                name: 'task 2'

            Entry:
                name: 'task 3'

    Button:
        background_color: C('#3498db')
        size_hint: None, 0.1
        pos_hint:{'center_x':.5}
        halign: 'center'
        text: 'Add new entry'
        font_size: '20sp'
        width: add_entry.width - 40
        on_release: add_entry.add_new()